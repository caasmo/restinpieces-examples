import{c}from"./chunk-NTKSLLJF.js";document.addEventListener("DOMContentLoaded",()=>{let s=document.getElementById("message"),t=document.getElementById("form"),a=document.getElementById("actions"),m=document.getElementById("verifyButton"),o=new c({baseURL:"http://localhost:8080"});s.className="verify-message verify-loading",s.textContent="Loading user information...",s.classList.remove("verify-hidden");let i=o.store.auth.load();if(!i||!i.record||!i.record.email){d("You must be logged in to request email verification");return}s.classList.add("verify-hidden"),t.classList.remove("verify-hidden"),m.addEventListener("click",()=>{s.className="verify-message verify-loading",s.textContent="Sending verification email...",o.requestEmailVerification({email:i.record.email}).then(e=>{if(!(e!=null&&e.message))throw new Error("Invalid verification response: missing message");l(e.message),a.classList.remove("verify-hidden")}).catch(e=>{var r;console.error("Verification request failed:",e);let n="Failed to request verification email";e.response?n=e.response.message||((r=e.response.data)==null?void 0:r.message)||JSON.stringify(e.response,null,2):e.message&&(n=e.message),d(n)})});function l(e){s.className="verify-message verify-success",s.textContent=e,t.classList.add("verify-hidden")}function d(e){s.className="verify-message verify-error",s.textContent=e,t.classList.add("verify-hidden"),a.classList.remove("verify-hidden")}});
